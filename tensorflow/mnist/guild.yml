# ===================================================================
# tensorflow.mnist package
# ===================================================================

- package: tensorflow.mnist
  version: 0.3.0.dev2
  description: Official TensorFlow CNN classifiers for MNIST
  url: https://github.com/guildai/index/tree/master/tensorflow/mnist
  maintainer: Guild AI
  maintainer-email: packages@guild.ai
  license: Apache 2.0
  tags:
    - cnn
    - mnist
    - images
    - model
    - estimator
    - layers
  resources:
    mnist-lib:
      sources:
        - url: https://github.com/tensorflow/models/archive/v.1.6.0.zip
          sha256: ed8fd7066bb014feccaed2cd2a46e516468ef24c40be8ef21a96a09849db7ff5
          select: models-v.1.6.0/official/mnist

# -------------------------------------------------------------------
# mnist-layers
# -------------------------------------------------------------------

- model: mnist-layers
  description: CNN estimator for MNIST using tf.layers
  operations:
    train:
      description: Train the CNN
      cmd: mnist/mnist --data_dir mnist-idx-data --model_dir . --export_dir .
      requires:
        - tensorflow.mnist/mnist-lib
        - mnist/dataset
      flags:
        batch-size:
          description: Number of images to process in a batch
          default: 100
        epochs:
          description: Number of epochs to train
          default: 40
          arg-name: train_epochs
  references:
    - https://github.com/tensorflow/models/tree/v.1.6.0/official/mnist
