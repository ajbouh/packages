- name: slim-inception-v1
  description: Inception v1 classifier in TF-Slim
  operations:
    train:
      description: Train Inception v1
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v1 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data
      requires:
        - slim/lib
        - datasets:${dataset}
      flags:
        $include: train-flags
    fine-tune:
      description: Fine-tune Inception v1
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v1 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data \
          --checkpoint_path inception_v1.ckpt \
          --checkpoint_exclude_scopes InceptionV1/Logits,InceptionV1/AuxLogits \
          --trainable_scopes InceptionV1/Logits,InceptionV1/AuxLogits
      flags:
        $include: train-flags
      requires:
        - slim/lib
        - datasets:${dataset}
        - checkpoint
  resources:
    checkpoint:
      sources:
        - url: http://download.tensorflow.org/models/inception_v1_2016_08_28.tar.gz
          sha256: 7a620c430fcaba8f8f716241f5148c4c47c035cce4e49ef02cfbe6cd1adf96a6

- name: slim-inception-v2
  description: Inception v2 classifier in TF-Slim
  operations:
    train:
      description: Train Inception v2
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v2 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data
      requires:
        - slim/lib
        - datasets:${dataset}
      flags:
        $include: train-flags
    fine-tune:
      description: Fine-tune Inception v2
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v2 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data \
          --checkpoint_path inception_v2.ckpt \
          --checkpoint_exclude_scopes InceptionV2/Logits,InceptionV2/AuxLogits \
          --trainable_scopes InceptionV2/Logits,InceptionV2/AuxLogits
      flags:
        $include: train-flags
      requires:
        - slim/lib
        - datasets:${dataset}
        - checkpoint
  resources:
    checkpoint:
      sources:
        - url: http://download.tensorflow.org/models/inception_v2_2016_08_28.tar.gz
          sha256: 3b9d269984402003d8330affc4e1463c0b4cfd536339ad12446a48d72477480a

- name: slim-inception-v3
  description: Inception v3 classifier in TF-Slim
  operations:
    train:
      description: Train Inception v3
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v3 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data
      requires:
        - slim/lib
        - datasets:${dataset}
      flags:
        $include: train-flags
    fine-tune:
      description: Fine-tune Inception v3
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v3 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data \
          --checkpoint_path inception_v3.ckpt \
          --checkpoint_exclude_scopes InceptionV3/Logits,InceptionV3/AuxLogits \
          --trainable_scopes InceptionV3/Logits,InceptionV3/AuxLogits
      flags:
        $include: train-flags
      requires:
        - slim/lib
        - datasets:${dataset}
        - checkpoint
  resources:
    checkpoint:
      sources:
        - url: http://download.tensorflow.org/models/inception_v3_2016_08_28.tar.gz
          sha256: 9430692d3002277fa1e1a94fb82331fe5da68b9afd725c2679c21a0319933228

- name: slim-inception-v4
  description: Inception v4 classifier in TF-Slim
  operations:
    train:
      description: Train Inception v4
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v4 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data
      requires:
        - slim/lib
        - datasets:${dataset}
      flags:
        $include: train-flags
    fine-tune:
      description: Fine-tune Inception v4
      cmd: >
        slim/train_image_classifier \
          --model_name inception_v4 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data \
          --checkpoint_path inception_v4.ckpt \
          --checkpoint_exclude_scopes InceptionV4/Logits,InceptionV4/AuxLogits \
          --trainable_scopes InceptionV4/Logits,InceptionV4/AuxLogits
      flags:
        $include: train-flags
      requires:
        - slim/lib
        - datasets:${dataset}
        - checkpoint
  resources:
    inception_v4:
      sources:
        - url: http://download.tensorflow.org/models/inception_v4_2016_09_09.tar.gz
          sha256: 272a2b24f68b2e51f3081479df075dd62b019ccda630e998fb7f6cf314c0f304

- name: slim-inception-resnet-v2
  description: Inception ResNet v2 classifier in TF-Slim
  operations:
    train:
      description: Train Inception ResNet v2
      cmd: >
        slim/train_image_classifier \
          --model_name inception_resnet_v2 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data
      requires:
        - slim/lib
        - datasets:${dataset}
      flags:
        $include: train-flags
    fine-tune:
      description: Fine-tune Inception ResNet v2
      cmd: >
        slim/train_image_classifier \
          --model_name inception_resnet_v2 \
          --train_dir . \
          --dataset_split_name train \
          --dataset_dir data \
          --checkpoint_path inception_resnet_v2_2016_08_30.ckpt \
          --checkpoint_exclude_scopes InceptionResnetV2/Logits,InceptionResnetV2/AuxLogits \
          --trainable_scopes InceptionResnetV2/Logits,InceptionResnetV2/AuxLogits
      requires:
        - slim/lib
        - datasets:${dataset}
        - checkpoint
      flags:
        $include: train-flags
  resources:
    checkpoint:
      sources:
        - url: http://download.tensorflow.org/models/inception_resnet_v2_2016_08_30.tar.gz
          sha256: 3471bf35c5322271081346a0bdfae0aee706561b8243ec3ba2249aea2dcb8506

- !load train-flags
- !load dataset-resources
