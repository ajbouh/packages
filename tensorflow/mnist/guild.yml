# ===================================================================
# tensorflow.mnist package
# ===================================================================

- package: tensorflow.mnist
  version: 0.3.0.dev1
  description: Official TensorFlow CNN classifiers for MNIST
  url: https://github.com/guildai/index/tree/master/tensorflow/mnist
  maintainer: Guild AI
  maintainer-email: packages@guild.ai
  license: Apache 2.0
  tags:
    - cnn
    - mnist
    - images
    - model
    - estimator
    - layers

# -------------------------------------------------------------------
# mnist-layers
# -------------------------------------------------------------------

- model: mnist-layers
  description: CNN estimator for MNIST using tf.layers
  operations:
    train:
      description: Train the CNN
      cmd: mnist/mnist
      requires:
        - mnist-lib
      flags:
        batch-size:
          description: Number of images to process in a batch
          value: 100
        epochs:
          description: Number of epochs to train
          value: 40
          arg-name: train_epochs

  resources:
    mnist-lib:
      sources:
        - url: https://github.com/tensorflow/models/archive/c7df5a3dde886509fbd1c7b317f76fb876f23506.zip
          sha256: 4ca6d15d7b700ec450101126478fc3faad5776010cd8b3871369d7c2e3be793f
          select: models-c7df5a3dde886509fbd1c7b317f76fb876f23506/official/mnist
