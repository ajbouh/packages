- name: magenta-style-transfer
  description: Implementation of the paper "A Learned Representation for Artistic Style"
  operations:
    stylize-monet:
      description: Stylize an image using a 'Monet' style
      cmd: >
        magenta.models.image_stylization.image_stylization_transform
          --output_dir=.
          --output_basename=stylized
      flags: use _stylize_flags
      requires:
        - ${style}
  resources:
    monet:
      sources:
        - url: http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt
          sha256: 7044c0a6cad9a2865a0aded7567be31437fd6dcc289a40df1efb5096d9a29d88
    varied:
      sources:
        - url: http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt
          sha256: f0de79e9b91e28e260873cf26cb68589179fe0519c6d1a86a4eb2d4aa5023083
- name: _stylize_flags
  private: yes
  flags:
    style:
      description: Style to apply (monet or varied)
      required: yes
      options:
        - value: monet
          description: Use Monet style
          args:
            checkpoint: multistyle-pastiche-generator-monet.ckpt
            num_styles: 10
        - value: varied
          description: Use varied style
          args:
            checkpoint: multistyle-pastiche-generator-varied.ckpt
            num_styles: 32
    image:
      description: Image to stylize
      required: yes
      arg-name: input_image
